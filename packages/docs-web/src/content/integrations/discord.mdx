import { Steps } from "nextra/components";
import { Callout } from 'nextra/components';
import { Cards } from 'nextra/components';
import { ReceiptTextIcon } from 'lucide-react';

# Discord

Follow the steps below to token gate your Discord server based on ProductMint Product Pass NFTs that were minted using your ProductMint Organization.

## Prerequisites

- A Discord server with a token gating bot installed such as [Collab.Land](https://collab.land/).

## Configure Token Gating Rules (TGR)

### Required Steps

<Steps>

### Create Rules
Start by creating a new Token Gating Rule (TGR) with the role you would like to assign.

### Select Chain Type
Select the `Chain Type` you are using where your Organization and Product Passes are minted.

### Set Token Type
Set `Token Type` to `ERC721` for the Product Pass NFT contract.

### Set Contract Address
Set `Address` to the [contract address](/contract-addresses) of the Product Pass NFTs for the chain you are using.

### Minimum Balance
Set `Balance` Min Amount to `1` to ensure the user has at least one Product Pass NFT.

### Set Metadata Rules
Configure the TGR based on the metadata attributes below to determine who is granted access to the Discord server channel.

</Steps>

### TGR Options

There are three primary options for metadata attribute TGRs.

### Option 1: Subscription Status

Gate based on the status of a subscription for a particular product using the OR condition.

#### Active
- Set `Trait` to `Subscription <Product ID>`
- Set `Value` to `Active`

#### Cancelled
- Set `Trait` to `Subscription <Product ID>`
- Set `Value` to `Cancelled`

<Callout type="info">
It is important to include the `Cancelled` subscription status as access should still be granted until the subscription end date at which point the status will automatically change to `Past Due`.
</Callout>

### Option 2: Any Products and Subscriptions

Gate based on the customer just owning your organization's Product Pass NFT with no particular product or subscription.

- Set `Trait` to `Organization`
- Set `Value` to `<Organization NFT Token ID>`

### Option 3: Product Specific

Gate based on the customer owning a specific product.

- Set `Trait` to `Product <Product ID>`
- Set `Value` to `<Product Name>`

<br />

<Cards.Card
  icon={<ReceiptTextIcon />}
  title="Deployed Contract Addresses"
  href="/contract-addresses"
/>
