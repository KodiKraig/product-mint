import { Steps } from "nextra/components";
import { Callout } from 'nextra/components';
import { Cards } from 'nextra/components';
import { ReceiptTextIcon } from 'lucide-react';

# Discord

Follow the steps below to token gate your Discord server based on ProductMint Product Pass NFTs that were minted using your ProductMint Organization.

## Prerequisites

- A Discord server with a token gating bot installed such as [Collab.Land](https://collab.land/).

## Configure Token Gating Rules (TGR)

### Required Steps

<Steps>

### Create Rules
Start by creating a new Token Gating Rule (TGR) with the role you would like to assign.

### Select Chain Type
Select the `Chain Type` you are using where your Organization and Product Passes are minted.

### Set Token Type
Set `Token Type` to `ERC721` for the Product Pass NFT contract.

### Set Contract Address
Set `Address` to the [contract address](/contract-addresses) of the Product Pass NFTs for the chain you are using.

### Minimum Balance
Set `Balance` Min Amount to `1` to ensure the user has at least one Product Pass NFT.

</Steps>

### TGR Options

There are three different options for TGRs:

### Option 1: Subscription Status (OR condition)

Gate based on the status of subscriptions.

- Set `Trait` to `Subscription <Product ID>`
- Set `Value` to `Active`
- Set `Trait` to `Subscription <Product ID>`
- Set `Value` to `Cancelled`

<Callout type="info">
When using the OR condition, the holder must meet at least one of the subscription statuses to be granted access. It is important to include `Cancelled` as the subscription should still be active until the subscription end date at which point the status will automatically change to `Past Due`.
</Callout>

### Option 2: Any Products and Subscriptions

Gate based on the customer just owning your organization's Product Pass NFT with no particular product or subscription.

- Set `Trait` to `Organization`
- Set `Value` to `<Organization NFT Token ID>`

### Option 3: Product Specific

Gate based on the customer owning a specific product.

- Set `Trait` to `Product <Product ID>`
- Set `Value` to `<Product Name>`

<br />

<Cards.Card
  icon={<ReceiptTextIcon />}
  title="Deployed Contract Addresses"
  href="/contract-addresses"
/>
